<script>
  async function fetchLinks() {
    try {
      const res = await fetch('/.netlify/functions/getLinks');
      const data = await res.json();
      const linksContainer = document.getElementById('links');
      linksContainer.innerHTML = '';

      if (Array.isArray(data.links)) {
        data.links.forEach(link => {
          const a = document.createElement('a');
          a.href = link.href;
          a.textContent = link.text;
          a.className = 'link-btn';
          linksContainer.appendChild(a);
        });
      } else {
        linksContainer.innerHTML = '<p style="color:#f88;">No links found</p>';
      }
    } catch (err) {
      console.error(err);
      document.getElementById('links').innerHTML =
        '<p style="color:#f88;">Error loading links</p>';
    }
  }

  // Stub functions until persistence is added
  document.getElementById('addLinkBtn').addEventListener('click', () => {
    alert('Add link functionality coming soon!');
  });

  document.getElementById('restoreLinkBtn').addEventListener('click', () => {
    alert('Restore link functionality coming soon!');
  });

  fetchLinks();
</script>
